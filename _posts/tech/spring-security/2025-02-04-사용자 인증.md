---
title: "[Spring Security] 사용자 인증 흐름"
date: 2025-01-28
categories: "spring-security"
comments: true
---

Spring Security에서 폼 기반 로그인(`/login`)요청을 처리할 때 `UsernamePasswordAuthenticationFilter`를 사용하게 되는데 이 필터에서 사용자 인증이 어떤 흐름으로 동작하는지 정리해보려고 한다.

아래 이미지는 로그인 요청의 흐름을 대략적으로 나타낸 것이다.

<p>
    <img src="/assets/images/tech/spring-security/authentication-flow/1.png">
</p>

## 1. 클라이언트 요청

- 사용자가 로그인 폼에 `username`, `password`를 입력하고 로그인 요청을 보낸다.
- 이 요청은 서버의 로그인을 담당하는 컨트롤러로 전송될 것이다.

```http
POST /login HTTP/1.1
Content-Type: application/x-www-form-urlencoded

username=user123&password=pass123
```

## 2. UsernamepasswordAuthenticationFilter 동작

- 1번에서의 로그인 요청은 해당 필터가 가로챈다.
