---
title: "[JPA] JPA(Java Persistence API)란?"
toc: true
toc_sticky: true
date: 2025-01-20
categories: "jpa"
comments: true
---

일단 `JPA`가 뭔지 알기전에 `ORM`이라는 기술에 대해서 알아야 할 필요가 있다.

<p>
	<img src="/assets/images/tech/jpa/sqlmapper-orm.png">
</p>

우리가 개발을 하면서 메모리에 일회성으로 저장되었다가 사라지는 정보들도 있지만 데이터베이스에 저장을 해서 영속성을 부여해야 하는 정보들도 있다.(ex. 사용자 정보, 결제 내역 등등..)

정보들을 데이터베이스에 저장하는 것을 **영속성**을 부여한다고 볼 수 있는데 Java에서 영속성을 부여하는 방법은 크게 위의 이미지처럼 `SQL Mapper`와 `ORM`을 이용하는 두 가지 방법이 있다.





`JPA`란 Java에서 `ORM`을 구현하기 위한 API이다.

> 💡 ORM(Object-Relational Mapping)<br>
> ORM은 데이터베이스와 객체를 매핑해주는 기술이다. DB의 테이블과 객체가 매핑되어 SQL문을 일일이 작성하지 않고 객체로 구현이 가능한 기술이다.

<br>

### ORM의 예시
```java
import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;

@Entity
@Table(name = "users")
public class User {
  @Id
  @GeneratedValue(strategy = GenerationType.IDENTITY)
  private Long id;
  private String name;
  private String email;

  // getters and setters
}

public class HibernateExample {
    public static void main(String[] args) {
      Session session = new Configuration()
          .configure("hibernate.cfg.xml")  // Hibernate 설정 파일
          .addAnnotatedClass(User.class)
          .buildSessionFactory()
          .getCurrentSession();

      Transaction transaction = session.beginTransaction();

      User user = new User();
      user.setName("John Doe");
      user.setEmail("john@example.com");

      session.save(user);  // 저장
      transaction.commit();

      User foundUser = session.get(User.class, 1L);  // 조회
      System.out.println(foundUser.getName());

      session.close();
    }
}
```

위의 코드와 같이 테이블과 매핑되는 객체(User)를 만들고 메소드를 이용하여 해당하는 객체를 데이터베이스에 CRUD가 가능하다.

ORM기술의 

## JPA의 동작 과정
